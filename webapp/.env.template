# ==============================================================================
# BERYL3 WEBAPP ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in the values for your environment
# 
# SECURITY WARNING: 
# - Never commit the actual .env file with production secrets to git
# - Generate new SECRET_KEY for production
# - Set DEBUG=False in production
# ==============================================================================

# ==============================================================================
# CRITICAL SETTINGS - REQUIRED (No defaults, will fail if missing)
# ==============================================================================

# Django Secret Key - GENERATE NEW FOR PRODUCTION!
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-super-secret-key-here-replace-this-in-production

# Debug Mode - MUST be False in production for security
# Development: DEBUG=True
# Production: DEBUG=False
DEBUG=False

# Allowed Hosts - Comma-separated list of domains (NO wildcards in production)
# Development: ALLOWED_HOSTS=localhost,127.0.0.1
# Production: ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# ==============================================================================
# DATABASE CONFIGURATION - REQUIRED
# ==============================================================================

# Database Engine (PostgreSQL recommended)
DB_ENGINE=django.db.backends.postgresql

# PostgreSQL Database Settings
PG_DB=your_database_name
PG_USER=your_database_user
PG_PASSWORD=your_secure_database_password
PG_HOST=localhost
PG_PORT=5432

# ==============================================================================
# EMAIL CONFIGURATION - REQUIRED
# ==============================================================================

# Email Backend Configuration
# Development: Use Inbucket (set USE_INBUCKET=True)
# Production: Use proper SMTP (set USE_INBUCKET=False and configure SMTP below)
USE_INBUCKET=False

# DEVELOPMENT EMAIL (Inbucket) - Only used if USE_INBUCKET=True
EMAIL_HOST=localhost
INBUCKET_SMTP_PORT=2500

# PRODUCTION EMAIL (SMTP) - Required if USE_INBUCKET=False

# RESEND.COM CONFIGURATION (Recommended)
# EMAIL_HOST=smtp.resend.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=resend
# EMAIL_HOST_PASSWORD=your-resend-api-key

# OTHER SMTP PROVIDERS
# EMAIL_HOST=smtp.your-email-provider.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-smtp-username
# EMAIL_HOST_PASSWORD=your-smtp-password

# From Address (always required)
# IMPORTANT: For Resend, use either:
# 1. A verified domain you own: DEFAULT_FROM_EMAIL=Your App <noreply@yourdomain.com>
# 2. Resend's onboarding domain for testing: DEFAULT_FROM_EMAIL=Your App <onboarding@resend.dev>
DEFAULT_FROM_EMAIL=Your App Name <onboarding@resend.dev>

# ==============================================================================
# MEDIA STORAGE CONFIGURATION - REQUIRED
# ==============================================================================

# Google Cloud Storage Settings
# Development: USE_GCS_STORAGE=False (uses local filesystem)
# Production: USE_GCS_STORAGE=True (uses Google Cloud Storage)
USE_GCS_STORAGE=False

# GCS Configuration (required if USE_GCS_STORAGE=True)
GCS_BUCKET_NAME=your-gcs-bucket-name
GCS_PROJECT_ID=your-google-cloud-project-id
GCS_LOCATION=media
GCS_CREDENTIALS_PATH=/path/to/your/service-account-key.json

# ==============================================================================
# APPLICATION FEATURES - OPTIONAL
# ==============================================================================

# Application Activity Logging (recommended: True)
APPLICATION_ACTIVITY_LOGGING=True

# ==============================================================================
# EMAIL QUEUE CONFIGURATION - OPTIONAL
# ==============================================================================
# Django-Post-Office settings for email queue management

# Email processing batch size (emails per batch)
POST_OFFICE_BATCH_SIZE=100

# Batch delivery timeout in seconds
POST_OFFICE_BATCH_TIMEOUT=180

# Maximum retry attempts for failed emails
POST_OFFICE_MAX_RETRIES=3

# Minutes between retry attempts
POST_OFFICE_RETRY_INTERVAL=15

# Domain for Message-ID header (should match your domain)
POST_OFFICE_MESSAGE_ID_FQDN=yourdomain.com

# ==============================================================================
# SENTRY ERROR MONITORING - OPTIONAL
# ==============================================================================
# Sentry.io configuration for error tracking and performance monitoring

# Sentry DSN (Data Source Name) - Get this from your Sentry project settings
# Leave empty to disable Sentry
SENTRY_DSN=

# Environment name for Sentry (development, staging, production)
SENTRY_ENVIRONMENT=development

# Performance monitoring sample rates (0.0 to 1.0)
# Lower values recommended for production to reduce overhead
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Optional: Release version for tracking deployments
SENTRY_RELEASE=

# ==============================================================================
# DOCKER SENTRY CONTAINER - OPTIONAL
# ==============================================================================
# Configuration for local Sentry container (docker-compose.yaml)
# Only needed if running Sentry via Docker Compose

# Sentry container web port (for accessing Sentry UI)
SENTRY_WEB_PORT=9001

# Sentry container secret key (generate random 50+ character string)
SENTRY_SECRET_KEY=your-sentry-secret-key-here-50-chars-min

# Sentry database configuration (uses shared PostgreSQL)
SENTRY_DB_NAME=sentry
SENTRY_DB_USER=sentry_user
SENTRY_DB_PASSWORD=sentry_secure_password

# Redis port for Sentry container
REDIS_PORT=6380

# ==============================================================================
# EXTERNAL SERVICE URLS - OPTIONAL
# ==============================================================================
# URLs for system administration panel links

# Database Administration URL (e.g., pgAdmin)
EXTERNAL_DB_URL=

# Email Testing URL (e.g., Inbucket web interface)  
EXTERNAL_INBUCKET_URL=

# Monitoring/Alerting URL (e.g., Sentry, Grafana)
EXTERNAL_MONITORING_URL=

# Sentry Error Monitoring URL (e.g., http://localhost:9001 for local Sentry container)
EXTERNAL_SENTRY_URL=

# ==============================================================================
# EXAMPLE CONFIGURATIONS
# ==============================================================================

# DEVELOPMENT EXAMPLE:
# ---------------------
# SECRET_KEY=django-insecure-dev-key-change-this
# DEBUG=True
# ALLOWED_HOSTS=localhost,127.0.0.1
# PG_DB=beryl3_dev
# PG_USER=beryl3_dev
# PG_PASSWORD=beryl3_dev_pass
# PG_HOST=localhost
# PG_PORT=5432
# USE_INBUCKET=True
# EMAIL_HOST=localhost
# DEFAULT_FROM_EMAIL=Beryl3 Dev <dev@localhost>
# USE_GCS_STORAGE=False
# SENTRY_WEB_PORT=9001
# SENTRY_SECRET_KEY=dev-sentry-secret-key-at-least-50-characters-long
# SENTRY_DB_NAME=sentry
# SENTRY_DB_USER=sentry_user
# SENTRY_DB_PASSWORD=sentry_dev_pass
# REDIS_PORT=6380
# EXTERNAL_SENTRY_URL=http://localhost:9001

# PRODUCTION EXAMPLE (with Resend + Sentry):
# ----------------------------------------------
# SECRET_KEY=prod-secret-key-50-chars-long-cryptographically-secure
# DEBUG=False
# ALLOWED_HOSTS=myapp.com,www.myapp.com
# PG_DB=beryl3_prod
# PG_USER=beryl3_prod
# PG_PASSWORD=very-secure-database-password
# PG_HOST=your-db-host.com
# PG_PORT=5432
# USE_INBUCKET=False
# EMAIL_HOST=smtp.resend.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=resend
# EMAIL_HOST_PASSWORD=re_YourActualResendAPIKey
# DEFAULT_FROM_EMAIL=My App <noreply@myapp.com>
# USE_GCS_STORAGE=True
# GCS_BUCKET_NAME=myapp-media-prod
# GCS_PROJECT_ID=myapp-prod-123456
# GCS_LOCATION=media
# GCS_CREDENTIALS_PATH=/app/credentials/service-account.json
# POST_OFFICE_MESSAGE_ID_FQDN=myapp.com
# SENTRY_DSN=https://your-sentry-dsn@o123456.ingest.sentry.io/123456
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.05
# SENTRY_PROFILES_SAMPLE_RATE=0.05
