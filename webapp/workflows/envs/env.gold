# ==============================================================================
# BERYL3 GOLDEN ENVIRONMENT CONFIGURATION
# ==============================================================================
# This is the single source of truth for all environment variables.
# 
# âš ï¸  IMPORTANT: All new environment variables MUST be added here first!
# 
# After adding variables here, run:
#   uv run python workflows/bin/sync-env-files.py [local|qa|prod]
#
# Environment applicability:
#   ğŸ  DEV  = Development (local)
#   ğŸ§ª QA   = QA environment (Cloud Run)
#   ğŸš€ PROD = Production environment (Cloud Run)
# ==============================================================================

# ==============================================================================
# CORE DJANGO SETTINGS
# ==============================================================================

# Django Secret Key (REQUIRED)
# ğŸ  DEV: Development key (insecure)
# ğŸ§ª QA: Generate secure key for QA
# ğŸš€ PROD: Generate unique secure key for production
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=django-insecure-change-this-in-production

# Debug Mode (REQUIRED)
# ğŸ  DEV: True (enable development features)
# ğŸ§ª QA: False (production-like testing)
# ğŸš€ PROD: False (security)
DEBUG=True

# Allowed Hosts (REQUIRED)
# ğŸ  DEV: localhost,127.0.0.1,*
# ğŸ§ª QA: beryl3-qa.example.com,localhost
# ğŸš€ PROD: beryl.com,www.beryl.com
ALLOWED_HOSTS=localhost,127.0.0.1

# Site Domain (REQUIRED)
# ğŸ  DEV: beryl3.localdomain
# ğŸ§ª QA: beryl3-qa.example.com
# ğŸš€ PROD: beryl.com
SITE_DOMAIN=beryl3.localdomain

# CSRF Trusted Origins
# ğŸ  DEV: http://localhost:8000,http://127.0.0.1:8000
# ğŸ§ª QA: https://beryl3-qa.mdubiel.org,https://*.run.app
# ğŸš€ PROD: https://beryl.com,https://www.beryl.com
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# Database Engine (REQUIRED)
# ğŸ  DEV: django.db.backends.sqlite3 (SQLite for development)
# ğŸ§ª QA: django.db.backends.postgresql (PostgreSQL Cloud SQL)
# ğŸš€ PROD: django.db.backends.postgresql (PostgreSQL Cloud SQL)
DB_ENGINE=django.db.backends.sqlite3

# PostgreSQL Settings (used when DB_ENGINE is postgresql)
# ğŸ  DEV: Not used with SQLite
# ğŸ§ª QA: beryl3-qa
# ğŸš€ PROD: Production database credentials
PG_DB=beryl3_db

# ğŸ  DEV: Not used with SQLite
# ğŸ§ª QA: beryl3-qa
# ğŸš€ PROD: Production database user
PG_USER=beryl3_user

# ğŸ  DEV: Not used with SQLite
# ğŸ§ª QA: Qa-Pass123!
# ğŸš€ PROD: Production database password
PG_PASSWORD=secure_password_change_this

# ğŸ  DEV: Not used with SQLite
# ğŸ§ª QA: 34.65.226.196
# ğŸš€ PROD: Production database host
PG_HOST=localhost

PG_PORT=5432

# ==============================================================================
# FEATURE FLAGS SYSTEM
# ==============================================================================
# These override DEBUG-based defaults and control application features

# Google Cloud Storage
# ğŸ  DEV: False (use local filesystem)
# ğŸ§ª QA: True (use Google Cloud Storage)
# ğŸš€ PROD: True (use Google Cloud Storage)
USE_GCS_STORAGE=False

# Email Backend
# ğŸ  DEV: True (use Inbucket for testing)
# ğŸ§ª QA: False (use SMTP/Resend)
# ğŸš€ PROD: False (use SMTP/Resend)
USE_INBUCKET=True

# Loki Log Forwarding
# ğŸ  DEV: False (disabled for development)
# ğŸ§ª QA: False (use Google Cloud Logging)
# ğŸš€ PROD: False (use Google Cloud Logging)
LOKI_ENABLED=False

# Google Cloud Logging
# ğŸ  DEV: False (use local logging)
# ğŸ§ª QA: True (enable cloud logging)
# ğŸš€ PROD: True (enable cloud logging)
USE_GOOGLE_CLOUD_LOGGING=False

# Browser Auto-Reload (Development)
# ğŸ  DEV: True (enable for development)
# ğŸ§ª QA: False (disable for stability)
# ğŸš€ PROD: False (disable for production)
BROWSER_RELOAD=True

# Django Debug Toolbar
# ğŸ  DEV: False (enable manually if needed)
# ğŸ§ª QA: False (disable for testing)
# ğŸš€ PROD: False (disable for security)
DJANGO_TOOLBAR=False

# Application Activity Logging
# ğŸ  DEV: True (helpful for development)
# ğŸ§ª QA: True (needed for testing)
# ğŸš€ PROD: True (required for audit)
APPLICATION_ACTIVITY_LOGGING=True

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================

# Email Host
# ğŸ  DEV: localhost (Inbucket)
# ğŸ§ª QA: smtp.resend.com
# ğŸš€ PROD: smtp.resend.com
EMAIL_HOST=localhost

# Email Port
# ğŸ  DEV: 2500 (Inbucket SMTP port)
# ğŸ§ª QA: 587 (SMTP with TLS)
# ğŸš€ PROD: 587 (SMTP with TLS)
EMAIL_PORT=587

# Email TLS
# ğŸ  DEV: False (Inbucket doesn't require TLS)
# ğŸ§ª QA: True (required for SMTP)
# ğŸš€ PROD: True (required for SMTP)
EMAIL_USE_TLS=False

# Email Authentication
# ğŸ  DEV: Not required for Inbucket
# ğŸ§ª QA: resend
# ğŸš€ PROD: resend
EMAIL_HOST_USER=

# Email Password (SMTP API Key)
# ğŸ  DEV: Not required for Inbucket
# ğŸ§ª QA: Resend API key for QA
# ğŸš€ PROD: Resend API key for production
EMAIL_HOST_PASSWORD=

# Default From Email
# ğŸ  DEV: "Beryl3 Dev <dev@beryl3.localdomain>"
# ğŸ§ª QA: "Beryl3 QA <qa@beryl3-qa.mdubiel.org>"
# ğŸš€ PROD: "Beryl3 <noreply@beryl.com>"
DEFAULT_FROM_EMAIL="Beryl3 Dev <dev@beryl3.localdomain>"

# Inbucket Development Settings
# ğŸ  DEV: Inbucket ports for local testing
# ğŸ§ª QA: Not used
# ğŸš€ PROD: Not used
INBUCKET_WEB_PORT=9000
INBUCKET_SMTP_PORT=2500

# Resend API Configuration for Marketing Emails
# ğŸ  DEV: re_fqw6u5mD_LKB86qWFDySKaPTEPBpdzJMZ
# ğŸ§ª QA: re_fqw6u5mD_LKB86qWFDySKaPTEPBpdzJMZ (shared with PROD)
# ğŸš€ PROD: re_fqw6u5mD_LKB86qWFDySKaPTEPBpdzJMZ
RESEND_API_KEY=re_fqw6u5mD_LKB86qWFDySKaPTEPBpdzJMZ

# Resend Marketing Audience ID
# ğŸ  DEV: 01f8fa37-6d40-4f54-b59e-f8fc465898e2
# ğŸ§ª QA: 01f8fa37-6d40-4f54-b59e-f8fc465898e2 (shared with PROD)
# ğŸš€ PROD: 01f8fa37-6d40-4f54-b59e-f8fc465898e2
RESEND_MARKETING_AUDIENCE_ID=01f8fa37-6d40-4f54-b59e-f8fc465898e2

# Marketing Email Default Opt-in Behavior
# ğŸ  DEV: True (opt-in by default for testing)
# ğŸ§ª QA: True (opt-in by default)
# ğŸš€ PROD: True (opt-in by default)
MARKETING_EMAIL_DEFAULT_OPT_IN=True

# Resend Sync Status Timeout (minutes)
# ğŸ  DEV: 15 (timeout threshold for sync status warning)
# ğŸ§ª QA: 30 (longer timeout for qa environment)
# ğŸš€ PROD: 60 (production timeout threshold)
RESEND_SYNC_TIMEOUT_MINUTES=15

# ==============================================================================
# GOOGLE CLOUD STORAGE CONFIGURATION
# ==============================================================================

# GCS Bucket Name
# ğŸ  DEV: beryl3_dev (personal dev bucket)
# ğŸ§ª QA: beryl3-qa-bucket
# ğŸš€ PROD: beryl3-prod-bucket
GCS_BUCKET_NAME=beryl3_dev

# GCS Project ID
# ğŸ  DEV: Personal development project
# ğŸ§ª QA: beryl3 (QA project)
# ğŸš€ PROD: beryl3-prod (production project)
GCS_PROJECT_ID=beryl3

# GCS Location (path within bucket)
# ğŸ  DEV: media
# ğŸ§ª QA: media
# ğŸš€ PROD: media
GCS_LOCATION=media

# GCS Credentials Path
# ğŸ  DEV: /home/mdubiel/projects/beryl3/webapp/workflows/envs/credentials/gcs_keys/mateusz-344213-5c136b4db5c3.json
# ğŸ§ª QA: /home/mdubiel/projects/beryl3/webapp/workflows/envs/credentials/gcs_keys/beryl3-qa-storage.json
# ğŸš€ PROD: /app/gcs-key.json (in container)
GCS_CREDENTIALS_PATH=/path/to/service-account-key.json

# Static Files URL (when using GCS)
# ğŸ  DEV: Generated automatically
# ğŸ§ª QA: https://storage.googleapis.com/beryl3-qa-bucket/statics/
# ğŸš€ PROD: https://storage.googleapis.com/beryl3-prod-bucket/static/
STATIC_URL=/static/

# Media Files URL (when using GCS)
# ğŸ  DEV: Generated automatically
# ğŸ§ª QA: https://storage.googleapis.com/beryl3-qa-bucket/media/
# ğŸš€ PROD: https://storage.googleapis.com/beryl3-prod-bucket/media/
MEDIA_URL=/media/

# ==============================================================================
# MONITORING AND LOGGING
# ==============================================================================


# Loki Log Aggregation URL
# ğŸ  DEV: http://localhost:3100 (local Loki)
# ğŸ§ª QA: Not used (Google Cloud Logging)
# ğŸš€ PROD: Not used (Google Cloud Logging)
LOKI_URL=http://localhost:3100

# Google Cloud Logging Configuration
# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3
# ğŸš€ PROD: beryl3-prod
GOOGLE_CLOUD_LOGGING_PROJECT_ID=

# Google Cloud Logging Resource Type
# ğŸ  DEV: Not used
# ğŸ§ª QA: cloud_run_revision
# ğŸš€ PROD: cloud_run_revision
GOOGLE_CLOUD_LOGGING_RESOURCE_TYPE=cloud_run_revision

# Google Cloud Logging Credentials
# ğŸ  DEV: Not used
# ğŸ§ª QA: /app/gcs-key.json
# ğŸš€ PROD: /app/gcs-key.json
GOOGLE_CLOUD_LOGGING_CREDENTIALS_PATH=

# ==============================================================================
# GOOGLE CLOUD PROJECT CONFIGURATION
# ==============================================================================

# GCP Project Information
# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3
# ğŸš€ PROD: beryl3-prod
GCP_PROJECT_ID=

# ğŸ  DEV: Not used
# ğŸ§ª QA: europe-west6
# ğŸš€ PROD: Production region
GCP_REGION=

# ğŸ  DEV: Not used
# ğŸ§ª QA: europe-west6-a
# ğŸš€ PROD: Production zone
GCP_ZONE=

# Database Instance Information
# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3-qa
# ğŸš€ PROD: Production instance name
DB_INSTANCE_NAME=

# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3:europe-west6:beryl3-qa
# ğŸš€ PROD: Production connection name
DB_CONNECTION_NAME=

# GCS Service Account Details
# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3-qa-storage@beryl3.iam.gserviceaccount.com
# ğŸš€ PROD: Production service account
GCS_SERVICE_ACCOUNT=

# ğŸ  DEV: Not used
# ğŸ§ª QA: beryl3-qa-storage.json
# ğŸš€ PROD: Production key file
GCS_KEY_FILE=

# Additional GCS URLs
# ğŸ  DEV: Not used
# ğŸ§ª QA: https://storage.googleapis.com/beryl3-qa-bucket/
# ğŸš€ PROD: Production bucket URL
GCS_BUCKET_URL=

# ğŸ  DEV: Not used
# ğŸ§ª QA: https://console.cloud.google.com/storage/browser/beryl3-qa-bucket?project=beryl3
# ğŸš€ PROD: Production console URL
GCS_CONSOLE_URL=

# Docker image configuration
# ğŸ  DEV: Not used
# ğŸ§ª QA: europe-west6-docker.pkg.dev/beryl3/beryl3/beryl3-webapp:latest
# ğŸš€ PROD: Production docker image
DOCKER_IMAGE=

# Full database connection string for reference
# ğŸ  DEV: Not used
# ğŸ§ª QA: postgresql://beryl3-qa:Qa-Pass123!@34.65.226.196:5432/beryl3-qa
# ğŸš€ PROD: Production database URL
DATABASE_URL=

# ==============================================================================
# EXTERNAL SERVICE URLS
# ==============================================================================
# URLs for system administration panel links

# Database Administration URL
# ğŸ  DEV: http://localhost:8084 (local pgAdmin)
# ğŸ§ª QA: https://console.cloud.google.com/sql
# ğŸš€ PROD: https://console.cloud.google.com/sql
EXTERNAL_DB_URL=

# Email Testing URL
# ğŸ  DEV: http://localhost:9000 (Inbucket web interface)
# ğŸ§ª QA: https://resend.com/dashboard
# ğŸš€ PROD: https://resend.com/dashboard
EXTERNAL_INBUCKET_URL=

# Monitoring/Alerting URL
# ğŸ  DEV: http://localhost:9001 (local Sentry)
# ğŸ§ª QA: Sentry project URL
# ğŸš€ PROD: Sentry project URL
EXTERNAL_MONITORING_URL=

# Grafana Dashboard URL
# ğŸ  DEV: http://localhost:3000
# ğŸ§ª QA: Not used
# ğŸš€ PROD: Production Grafana URL
EXTERNAL_GRAFANA_URL=

# Loki Log Aggregation URL
# ğŸ  DEV: http://localhost:3100
# ğŸ§ª QA: Not used
# ğŸš€ PROD: Not used
EXTERNAL_LOKI_URL=

# Resend Email Service URL
# ğŸ  DEV: https://resend.com/dashboard
# ğŸ§ª QA: https://resend.com/dashboard
# ğŸš€ PROD: https://resend.com/dashboard
EXTERNAL_RESEND_URL=https://resend.com/dashboard


# ==============================================================================
# EMAIL QUEUE CONFIGURATION
# ==============================================================================
# Django-Post-Office settings for email queue management

# Email processing batch size
# ğŸ  DEV: 10 (small batches for development)
# ğŸ§ª QA: 50 (moderate batches for testing)
# ğŸš€ PROD: 100 (larger batches for efficiency)
POST_OFFICE_BATCH_SIZE=10

# Batch delivery timeout in seconds
# ğŸ  DEV: 60 (short timeout for development)
# ğŸ§ª QA: 180 (moderate timeout)
# ğŸš€ PROD: 300 (longer timeout for reliability)
POST_OFFICE_BATCH_TIMEOUT=60

# Maximum retry attempts for failed emails
# ğŸ  DEV: 3
# ğŸ§ª QA: 3
# ğŸš€ PROD: 5 (more retries for production)
POST_OFFICE_MAX_RETRIES=3

# Minutes between retry attempts
# ğŸ  DEV: 5 (quick retries for development)
# ğŸ§ª QA: 15 (standard retry interval)
# ğŸš€ PROD: 30 (longer interval for production)
POST_OFFICE_RETRY_INTERVAL=5

# Domain for Message-ID header
# ğŸ  DEV: beryl3.localdomain
# ğŸ§ª QA: beryl3-qa.mdubiel.org
# ğŸš€ PROD: beryl.com
POST_OFFICE_MESSAGE_ID_FQDN=beryl3.localdomain

# ==============================================================================
# ENVIRONMENT IDENTIFICATION
# ==============================================================================

# Environment name
# ğŸ  DEV: development
# ğŸ§ª QA: qa
# ğŸš€ PROD: production
ENVIRONMENT=development

# Deployment environment
# ğŸ  DEV: development
# ğŸ§ª QA: qa
# ğŸš€ PROD: production
DEPLOYMENT_ENVIRONMENT=development

# Site name for django-allauth and email templates
# ğŸ  DEV: beryl3-dev
# ğŸ§ª QA: beryl3-qa
# ğŸš€ PROD: beryl3
SITE_NAME=beryl3-dev

# Django Site ID (for django.contrib.sites)
# ğŸ  DEV: 1 (default site)
# ğŸ§ª QA: 1 (default site)
# ğŸš€ PROD: 1 (default site)
SITE_ID=1

# ==============================================================================
# DJANGO INTERNAL SETTINGS
# ==============================================================================
# These are typically set by Django but may be referenced in code

# Django Base Directory (usually set automatically)
# ğŸ  DEV: Automatically set by Django
# ğŸ§ª QA: Automatically set by Django  
# ğŸš€ PROD: Automatically set by Django
# Note: This is a Django internal setting, usually not overridden
BASE_DIR=

# Django Databases Configuration (usually set automatically from DB_ENGINE)
# ğŸ  DEV: Automatically configured based on DB_ENGINE
# ğŸ§ª QA: Automatically configured based on DB_ENGINE
# ğŸš€ PROD: Automatically configured based on DB_ENGINE
# Note: This is built from DB_ENGINE and other database settings
DATABASES=

# Django Media Root (usually set automatically)
# ğŸ  DEV: Automatically set by Django
# ğŸ§ª QA: Automatically set by Django
# ğŸš€ PROD: Automatically set by Django  
# Note: This is typically calculated from BASE_DIR
MEDIA_ROOT=

# ==============================================================================
# DEVELOPMENT-SPECIFIC SETTINGS
# ==============================================================================

# Python path for IDEs
# ğŸ  DEV: ${workspaceFolder} (VS Code workspace)
# ğŸ§ª QA: Not used
# ğŸš€ PROD: Not used
PYTHONPATH=${workspaceFolder}

# ==============================================================================
# NOTES FOR ENVIRONMENT CONFIGURATION
# ==============================================================================
#
# ADDING NEW VARIABLES:
# 1. Add the variable to this golden file first
# 2. Add comprehensive comments explaining the purpose
# 3. Provide environment-specific examples (ğŸ  DEV, ğŸ§ª QA, ğŸš€ PROD)
# 4. Run: uv run python workflows/bin/sync-env-files.py [environment]
# 5. Update environment-specific files as needed
# 6. For QA/PROD: Update secrets using update-secrets.py
#
# REMOVING VARIABLES:
# 1. Remove from this golden file
# 2. Run sync script to update environment files
# 3. Archive old secrets (they will be marked for removal)
#
# VALIDATION:
# - Run: uv run python workflows/bin/scan-codebase.py
# - Run: uv run python workflows/bin/verify-parity.py
# - Run: uv run python workflows/bin/compare-envs.py qa prod
#
# ==============================================================================