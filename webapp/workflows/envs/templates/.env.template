# ==============================================================================
# BERYL3 WEBAPP ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in the values for your environment
# 
# SECURITY WARNING: 
# - Never commit the actual .env file with production secrets to git
# - Generate new SECRET_KEY for production
# - Set DEBUG=False in production
# ==============================================================================

# ==============================================================================
# CRITICAL SETTINGS - REQUIRED (No defaults, will fail if missing)
# ==============================================================================

# Django Secret Key - GENERATE NEW FOR PRODUCTION!
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-super-secret-key-here-replace-this-in-production

# Debug Mode - MUST be False in production for security
# Development: DEBUG=True
# Production: DEBUG=False
DEBUG=False

# Site Domain - The primary domain for this application
# Development: beryl3.localdomain
# QA: beryl3-qa.mdubiel.org (or Cloud Run URL)
# Production: beryl.com
SITE_DOMAIN=beryl3.localdomain

# Allowed Hosts - Comma-separated list of domains (NO wildcards in production)
# Development: ALLOWED_HOSTS=localhost,127.0.0.1,beryl3.localdomain
# QA: ALLOWED_HOSTS=beryl3-qa.mdubiel.org,*.run.app
# Production: ALLOWED_HOSTS=beryl.com,www.beryl.com
ALLOWED_HOSTS=localhost,127.0.0.1,beryl3.localdomain

# ==============================================================================
# DATABASE CONFIGURATION - REQUIRED
# ==============================================================================

# Database Engine (PostgreSQL recommended)
DB_ENGINE=django.db.backends.postgresql

# PostgreSQL Database Settings
PG_DB=your_database_name
PG_USER=your_database_user
PG_PASSWORD=your_secure_database_password
PG_HOST=localhost
PG_PORT=5432

# ==============================================================================
# EMAIL CONFIGURATION - REQUIRED
# ==============================================================================

# Email Backend Configuration
# Development: Use Inbucket (USE_INBUCKET=True, configured above in feature flags)
# Production: Use proper SMTP (USE_INBUCKET=False, configured above in feature flags)

# DEVELOPMENT EMAIL (Inbucket) - Only used if USE_INBUCKET=True
EMAIL_HOST=localhost
INBUCKET_SMTP_PORT=2500

# PRODUCTION EMAIL (SMTP) - Required if USE_INBUCKET=False

# RESEND.COM CONFIGURATION (Recommended)
# EMAIL_HOST=smtp.resend.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=resend
# EMAIL_HOST_PASSWORD=your-resend-api-key

# OTHER SMTP PROVIDERS
# EMAIL_HOST=smtp.your-email-provider.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-smtp-username
# EMAIL_HOST_PASSWORD=your-smtp-password

# From Address (always required)
# IMPORTANT: For Resend, use either:
# 1. A verified domain you own: DEFAULT_FROM_EMAIL=Your App <noreply@beryl3.localdomain>
# 2. Resend's onboarding domain for testing: DEFAULT_FROM_EMAIL=Your App <onboarding@resend.dev>
DEFAULT_FROM_EMAIL=Your App Name <onboarding@resend.dev>

# ==============================================================================
# MEDIA STORAGE CONFIGURATION - REQUIRED
# ==============================================================================

# Google Cloud Storage Settings
# Feature Flags - DEBUG=True/False sets defaults, these can override
# Storage: USE_GCS_STORAGE=False (dev default), =True (prod default)
USE_GCS_STORAGE=False

# Database: USE_SQLITE=True (dev default), =False (prod default) 
USE_SQLITE=True

# Email: USE_INBUCKET=True (dev default), =False (prod default)
USE_INBUCKET=True

# Logging: LOKI_ENABLED=False (dev default), =False (prod default)
LOKI_ENABLED=False

# Cloud Logging: USE_GOOGLE_CLOUD_LOGGING=False (dev default), =True (prod default)
USE_GOOGLE_CLOUD_LOGGING=False

# Development Tools: BROWSER_RELOAD=True (dev default), =False (prod default)
BROWSER_RELOAD=True

# Debug Toolbar: DJANGO_TOOLBAR=False (dev default), =False (prod default)
DJANGO_TOOLBAR=False

# GCS Configuration (required if USE_GCS_STORAGE=True)
GCS_BUCKET_NAME=your-gcs-bucket-name
GCS_PROJECT_ID=your-google-cloud-project-id
GCS_LOCATION=media
GCS_CREDENTIALS_PATH=/path/to/your/service-account-key.json

# ==============================================================================
# APPLICATION FEATURES - OPTIONAL
# ==============================================================================

# Application Activity Logging (recommended: True)
APPLICATION_ACTIVITY_LOGGING=True

# ==============================================================================
# EMAIL QUEUE CONFIGURATION - OPTIONAL
# ==============================================================================
# Django-Post-Office settings for email queue management

# Email processing batch size (emails per batch)
POST_OFFICE_BATCH_SIZE=100

# Batch delivery timeout in seconds
POST_OFFICE_BATCH_TIMEOUT=180

# Maximum retry attempts for failed emails
POST_OFFICE_MAX_RETRIES=3

# Minutes between retry attempts
POST_OFFICE_RETRY_INTERVAL=15

# Domain for Message-ID header (should match your domain)
POST_OFFICE_MESSAGE_ID_FQDN=beryl3.localdomain


# ==============================================================================
# EXTERNAL SERVICE URLS - OPTIONAL
# ==============================================================================
# URLs for system administration panel links

# Database Administration URL (e.g., pgAdmin)
EXTERNAL_DB_URL=

# Email Testing URL (e.g., Inbucket web interface)  
EXTERNAL_INBUCKET_URL=

# Monitoring/Alerting URL (e.g., Sentry, Grafana)
EXTERNAL_MONITORING_URL=


# Grafana Dashboard URL (e.g., http://localhost:3000 for local Grafana)
EXTERNAL_GRAFANA_URL=

# Loki Log Aggregation URL (e.g., http://localhost:3100 for local Loki)
EXTERNAL_LOKI_URL=

# Resend Email Service URL (e.g., https://resend.com/dashboard)
EXTERNAL_RESEND_URL=

# ==============================================================================
# EXAMPLE CONFIGURATIONS
# ==============================================================================

# DEVELOPMENT EXAMPLE:
# ---------------------
# SECRET_KEY=django-insecure-dev-key-change-this
# DEBUG=True
# ALLOWED_HOSTS=localhost,127.0.0.1
# PG_DB=beryl3_dev
# PG_USER=beryl3_dev
# PG_PASSWORD=beryl3_dev_pass
# PG_HOST=localhost
# PG_PORT=5432
# Feature flags for development:
# USE_SQLITE=True         # SQLite database for development
# USE_INBUCKET=True       # Inbucket email testing
# USE_GCS_STORAGE=False   # Local filesystem storage
# LOKI_ENABLED=False      # No Loki in development
# BROWSER_RELOAD=True     # Auto-reload for development

# PRODUCTION EXAMPLE (with Resend):
# ----------------------------------------------
# SECRET_KEY=prod-secret-key-50-chars-long-cryptographically-secure
# DEBUG=False
# ALLOWED_HOSTS=myapp.com,www.myapp.com
# PG_DB=beryl3_prod
# PG_USER=beryl3_prod
# PG_PASSWORD=very-secure-database-password
# PG_HOST=your-db-host.com
# PG_PORT=5432
# USE_INBUCKET=False
# EMAIL_HOST=smtp.resend.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=resend
# EMAIL_HOST_PASSWORD=re_YourActualResendAPIKey
# DEFAULT_FROM_EMAIL=My App <noreply@myapp.com>
# USE_GCS_STORAGE=True
# GCS_BUCKET_NAME=myapp-media-prod
# GCS_PROJECT_ID=myapp-prod-123456
# GCS_LOCATION=media
# GCS_CREDENTIALS_PATH=/app/credentials/service-account.json
# POST_OFFICE_MESSAGE_ID_FQDN=myapp.com
