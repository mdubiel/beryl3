{% extends "allauth/layouts/base.html" %}
{% load i18n %}
{% load widget_tweaks %}

{% block head_title %}{% trans "Change Password" %}{% endblock head_title %}

{% block allauth_content %}
<div class="flex justify-center">
    <form method="post" action="{% url 'account_change_password' %}" class="password_change">
        {% csrf_token %}
        <fieldset class="fieldset bg-base-200 border-base-300 rounded-box w-xs border p-4">
            <legend class="fieldset-legend">{% trans "Change Password" %}</legend>

            {% if form.non_field_errors %}<div class="alert alert-error my-2"><span>{{ form.non_field_errors.as_text }}</span></div>{% endif %}

            <label class="label" for="{{ form.oldpassword.id_for_label }}">{{ form.oldpassword.label }}</label>
            {% render_field form.oldpassword class="input w-full" placeholder="Current password" %}
            {% if form.oldpassword.errors %}<div class="text-error text-sm mt-1">{{ form.oldpassword.errors.as_text }}</div>{% endif %}

            <label class="label mt-2" for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
            {% render_field form.password class="input w-full" placeholder="New password" %}
            {% if form.password.errors %}<div class="text-error text-sm mt-1">{{ form.password.errors.as_text }}</div>{% endif %}

            <label class="label mt-2" for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
            {% render_field form.password2 class="input w-full" placeholder="Confirm new password" %}
            {% if form.password2.errors %}<div class="text-error text-sm mt-1">{{ form.password2.errors.as_text }}</div>{% endif %}

            <button type="submit" class="btn btn-primary mt-4 w-full">{% trans "Change Password" %}</button>
        </fieldset>
    </form>
</div>
{% endblock allauth_content %}